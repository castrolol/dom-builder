!function e(t,n,r){function i(u,a){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){function r(){this.children=[],u.apply(this,i),this.elementHandler=o}var i=e("./dom-node"),o=e("./element-handler"),u=e("./dom-node-pipe-mixin");r.prototype.setHandler=function(e){this.elementHandler.setHandler(e)},r.setHandler=function(e){o.setHandler(e)},r.prototype.resolve=function(){var e=this.elementHandler.createFragment();return this.children.forEach(function(t){var n=t.buildOut();e.appendChild(n)}),e},r.prototype.attachOn=function(e){var t=this.resolve();return e.appendChild(t),t},"function"==typeof define?define(function(){return r}):"object"==typeof window&&(window.DomBuilder=r),t.exports=r},{"./dom-node":3,"./dom-node-pipe-mixin":2,"./element-handler":6}],2:[function(e,t,n){function r(e,t){return{behaviour:i.bind(this,e,t)}}function i(e,t,n){var r=u[n];return e[n]=r(t),{behaviour:i.bind(this,e,t)}}function o(){}var u={begin:function(e){return function(t){var n=new e(t);return n.parent=this,this.children.push(n),n}},child:function(e){return function(t,n,r){var i=new e(t,n,r);return i.parent=this,this.children.push(i),this}},text:function(e){return function(e){return this.child("#text",e)}},close:function(e){return function(){return this.parent?this.parent:this}}};o.prototype.apply=function(e,t){e.children instanceof Array==!1&&(e.children=[]),r(e,t).behaviour("begin").behaviour("close").behaviour("child").behaviour("text")},t.exports=new o},{}],3:[function(e,t,n){function r(e,t){var n=e[t];delete e[t],Object.defineProperty(e,t,{get:function(){return n},set:function(e){n=e,this._updateNeeded=!0}})}function i(e,t,n){"undefined"==typeof n&&("string"==typeof t||t instanceof i||t instanceof Array)==!1&&(n=t,t=[]),"undefined"!=typeof t&&t instanceof Array==!1&&(t=[t]),this.element=e,this.children=t||[],this.attrs=n||{},this.parent=null,this._updateNeeded=!0,this.normalizeChildren(),u.apply(this,i),r(this,"element"),r(this,"parent"),r(this,"attrs"),r(this,"children")}var o=e("./element-handler"),u=e("./dom-node-pipe-mixin");i.prototype.normalizeChildren=function(){this.children=this.children.map(function(e){return"string"==typeof e&&"#text"!=this.element?new i("#text",e):e}.bind(this)),this._updateNeeded=!0},i.prototype.attr=function(e){for(var t in e)this.attrs[t]=e[t];return this._updateNeeded=!0,this},i.prototype.buildOut=function(){if("ref"in this&&null!==this.ref&&!this._updateNeeded)return this.ref;var e=[];this.children.forEach(function(t){t&&"string"!=typeof t&&(t=t.buildOut()),e.push(t)});var t=o.createElement(this.element,e);if("setAttribute"in t)for(var n in this.attrs){var r=this.attrs[n];t.setAttribute(n,r)}return this.ref=t,this._updateNeeded=!1,t},i.prototype.update=function(){var e=this.ref;this.ref=null,o.replace(e).by(this.buildOut())},t.exports=i},{"./dom-node-pipe-mixin":2,"./element-handler":6}],4:[function(e,t,n){function r(){}r.canUseIt=function(){try{if("undefined"==typeof window)return!1;if("undefined"==typeof document)return!1;if("function"!=typeof document.createElement)return!1;if("function"!=typeof document.createTextNode)return!1;if("function"!=typeof document.createDocumentFragment)return!1}catch(e){return!1}return!0},r.prototype.createText=function(e){return document.createTextNode(e)},r.prototype.createNode=function(e,t){var n=document.createElement(e);return t.forEach(function(e){n.appendChild(e)}),n},r.prototype.createElement=function(e,t){return"#text"===e?this.createText(t):this.createNode(e,t)},r.prototype.createFragment=function(){return document.createDocumentFragment()},r.prototype.replace=function(e){for(var t,n=e.childNodes;t<n.length;t++){var r=n[t];e.removeChild(r)}var i=e.parentElement;return{by:function(t){i.replaceChild(t,e)}}},t.exports=r},{}],5:[function(e,t,n){function r(){this.current=null}var i={BrowserElementHandler:e("./browser-element-handler")};r.prototype.create=function(){if(this.current)return this.current;for(var e in i){var t=i[e];if(t.canUseIt())return this.current=new t,this.current}},t.exports=new r},{"./browser-element-handler":4}],6:[function(e,t,n){function r(){this.handler=i.create()}var i=e("./element-handler-factory");r.prototype.setHandler=function(e){this.handler=e||i.create()},r.prototype.createElement=function(e,t){return this.handler.createElement(e,t)},r.prototype.createFragment=function(){return this.handler.createFragment()},r.prototype.replace=function(e){return this.handler.replace(e)},t.exports=new r},{"./element-handler-factory":5}]},{},[1]);